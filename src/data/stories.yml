version: "3.1"

stories:

  - story: Short conversation
    steps: 
      # Saluer l'utilisateur
      - intent: greeting
      - action: utter_greeting
      # L'utilisateur dit au revoir
      - intent: goodbye
      - action: utter_short_conversation

  - story: User need schedule information
    steps:
      # Saluer l'utilisateur
      - intent: greeting
      - action: utter_greeting
      # Demander l'horaires d'ouverture
      - intent: ask_schedule
      - action: utter_ask_schedule
      # Demander si l'utilisateur veut d'autres informations
      - action: utter_another_question
      # L'utilisateur dit merci
      - or:
        - intent: denial
        - intent: goodbye
      - action: utter_goodbye

  - story: User need menu information
    steps:
      # Saluer l'utilisateur
      - intent: greeting
      - action: utter_greeting
      # Demander le menu
      - intent: ask_menu
      - action: utter_ask_menu
      # Demander si l'utilisateur veut d'autres informations
      - action: utter_another_question
      # L'utilisateur dit décline
      - or:
        - intent: denial
        - intent: goodbye
      - action: utter_goodbye

  - story: User need schedule and menu information
    steps:
      # Saluer l'utilisateur
      - intent: greeting
      - action: utter_greeting

      # Demander l'horaires d'ouverture
      - intent: ask_schedule
      - action: utter_ask_schedule

      # Demander si l'utilisateur veut d'autres informations
      - action: utter_another_question

      # Demander le menu
      - intent: ask_menu
      - action: utter_ask_menu

      # Demander si l'utilisateur veut d'autres informations
      - action: utter_another_question

      # L'utilisateur dit décline
      - or:
        - intent: denial
        - intent: goodbye
      - action: utter_goodbye

  - story: User need schedule and menu information with affirmation response
    steps:

      # Saluer l'utilisateur
      - intent: greeting
      - action: utter_greeting

      # Demander l'horaires d'ouverture
      - intent: ask_schedule
      - action: utter_ask_schedule

      # Demander si l'utilisateur veut d'autres informations
      # L'utilisateur dit oui
      - action: utter_another_question
      - intent: affirmation
      - action: utter_ask_question

      # Demander le menu
      - intent: ask_menu
      - action: utter_ask_menu

      # Demander si l'utilisateur veut d'autres informations
      # L'utilisateur dit oui
      - action: utter_another_question
      - intent: affirmation
      - action: utter_ask_question

      # L'utilisateur décline
      - or:
        - intent: denial
        - intent: goodbye
      - action: utter_goodbye

  - story: Ask order
    steps:
      # Saluer l'utilisateur
      - intent: greeting
      - action: utter_greeting

      # Demander la commande d'une pizza
      - intent: place_order 
      - action: action_tell_order
